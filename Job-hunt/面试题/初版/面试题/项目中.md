## 单点登陆

- 问题
  - 将项目划分为多个微服务模块了，每次访问不同的服务都要登陆
- 解决
  - 登陆的时候将cookie存放到redis中，并返回给用户
  - 在网关通过全局过滤器来判断是否redis中是否有值，有则放行，没有则跳转到登陆

## 热点数据存缓存

- 问题
  - 当用户请求如阅读量等高频数据的时候，持续访问数据库造成数据库压力过大
- 解决
  - 对于这部分数据，在数据库查询到后，放到Redis中来
  - 由于阅读量变化频率比较快，在允许弱一致性的情况下，每次都更新Redis，过一段时间再更新数据库

## 分页

- 返回的数据多时

## 云存储

- 问题
  - 用户头像、笔记图片、视频等数据如果用本地存储的话，当数据增多的时候，磁盘空间会不够
- 解决
  - 使用云存储，把数据上传到云服务器。
  - 在项目中用的是工厂模式，可获取不同的云存储服务
  - 相较于传统文件存储，云存储能够实现规模效应和弹性扩展，降低运营成本，避免资源浪费。
  - 只需要简单的api就能方便的访问，不与本地应用粘合在一起，降低了程序间的耦合度

